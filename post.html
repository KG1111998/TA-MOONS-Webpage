<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TA-MOONS Science Consortium</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <!-- marked.js for Markdown to HTML conversion -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <div class="content-wrapper">
    <header>
      <div class="header-container">
        <img src="tifrlogonew-removebg-preview.png" alt="Left Logo" class="logo left-logo">
        <div class="header-text">
          <h1>TIFR-ARIES Multi-Object Optical to Near-Infrared Spectrograph (TA-MOONS)</h1>
        </div>
        <img src="aries_logo (2)_0.png" alt="Right Logo" class="logo right-logo">
      </div>
    </header>

    <nav>
        <div class="dropdown">
            <button class="dropbtn">Home</button>
            <div class="dropdown-content">
                <a href="index.html#about">About TA-MOONS</a>
                <a href="index.html#recent-posts">Recent Posts</a>
                <a href="index.html#Objectives">Objectives</a>
                <a href="index.html#Specifications">Specifications</a>
                <a href="index.html#Goals">Goals</a>
                <a href="index.html#Current Status">Current Status</a>
            </div>
        </div>
        <a href="team.html">Team</a>
        <div class="dropdown">
            <button class="dropbtn">Projects</button>
            <div class="dropdown-content">
                <a href="projects.html#FrontOptics">Front Optics</a>
                <a href="projects.html#Mechanics">Mechanics</a>
            </div>
        </div>
        <a href="blog.html">Blog</a>
        <a href="publications.html">Publications</a>
        <a href="gallery.html">Gallery</a>
        <a href="faq.html">FAQ</a>
        <a href="contact.html">Contact</a>
    </nav>

    <main>
      <div class="post-content">
        <!-- Markdown content will be rendered here -->
      </div>
      <a href="blog.html" class="back-link">&larr; Back to all posts</a>
    </main>

    <div class="content-box">
      <footer>
        <p>Â© 2025 TA-MOONS Science Consortium. All rights reserved.</p>
      </footer>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const params = new URLSearchParams(window.location.search);
      const postFile = params.get('file');

      if (postFile) {
        const postPath = `posts/${postFile}.md`;
        
        // Log the exact path we are trying to fetch
        console.log('Attempting to fetch post from:', postPath);

        fetch(postPath)
          .then(response => {
            console.log('Fetch response status:', response.status);
            if (!response.ok) {
              // Log the full URL that failed
              console.error('Failed to fetch:', response.url);
              throw new Error(`Network response was not ok. Status: ${response.status}`);
            }
            return response.text();
          })
          .then(markdown => {
            // Remove the YAML front matter before rendering
            const content = markdown.split('---').slice(2).join('---').trim();
            document.querySelector('.post-content').innerHTML = marked.parse(content);
          })
          .catch(error => {
            console.error('Error fetching or parsing post:', error);
            document.querySelector('.post-content').innerHTML = `<h2>Post Not Found</h2><p>Sorry, the post you are looking for does not exist. Please check the URL or go back to the blog list.</p><p><small>Debug Info: Check the browser console (F12) for error details.</small></p>`;
          });
      }
    });
  </script>
</body>
</html>



